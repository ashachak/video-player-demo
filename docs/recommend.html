<!DOCTYPE html>
<html lang="en">
  
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="cloudinary_cloud_name" content="idemo">
  <title>Cloudinary Demo</title>
  <link href="//cloudinary.com/images/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57">
  <link href="//cloudinary.com/images/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114">
  <link href="//cloudinary.com/images/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72">
  <link href="//cloudinary.com/images/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144">
  <link href="//cloudinary.com/images/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60">
  <link href="//cloudinary.com/images/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
  <link href="//cloudinary.com/images/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
  <link href="//cloudinary.com/images/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">
  <link href="//cloudinary.com/images/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180">
  <link href="//cloudinary.com/images/favicon-192x192.png" rel="icon" sizes="192x192" type="image/png">
  <link href="//cloudinary.com/images/favicon-160x160.png" rel="icon" sizes="160x160" type="image/png">
  <link href="//cloudinary.com/images/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png">
  <link href="//cloudinary.com/images/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
  <link href="//cloudinary.com/images/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,700,400italic" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="canonical" href="/">
  <link href="https://unpkg.com/cloudinary-video-player@edge/dist/cld-video-player.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/video-player-demo/css/video.css"></head>
  
<body class="video-demo">  
  <div>
    <br>
    <a href="https://cloudinary.com">
    <img src="https://res.cloudinary.com/cloudinary/image/upload/w_170,fl_attachment/v1/logo/for_white_bg/cloudinary_logo_for_white_bg.svg" width="170"></a>
    <br>
    <a href="index.html#Adaptive">
    <img src="https://res.cloudinary.com/cld-demo/image/upload/w_265,h_70,x_100,y_645,g_north_west,c_crop/e_sharpen:80/demo-Desktop.jpg"></a>
    <a href="#Playlist">
    <img src="https://res.cloudinary.com/cld-demo/image/upload/w_265,h_70,x_400,y_645,g_north_west,c_crop/e_sharpen:80/demo-Desktop.jpg"></a>
    <a href="index.html#Events">
    <img src="https://res.cloudinary.com/cld-demo/image/upload/w_265,h_70,x_700,y_645,g_north_west,c_crop/e_sharpen:80/demo-Desktop.jpg"></a>
    <a href="#Recommended">
    <img src="https://res.cloudinary.com/cld-demo/image/upload/w_265,h_70,x_1000,y_645,g_north_west,c_crop/e_sharpen:80/demo-Desktop.jpg"></a>
    <br>
    <br>
  </div>
  <div id="recommendation" class="grey">
    <br>
    <a name="Recommended">
    <h1>Recommended Content</h1>
    <br>
    <video
      id="demo-recommendation-player"
      width=800
      controls
      autoplay
      muted
      class="cld-video-player cld-video-player-skin-dark center"
      data-cld-transformation='{ "width": 800, "crop": "limit" }'>
    </video>
  </div>
  <div id="playlist">
    <br>
    <a name="Playlist">
    <h1>Video Playlists</h1>
    <br>
    <video
      id="demo-playlist-player"
      width=800
      controls
      muted
      class="cld-video-player cld-video-player-skin-dark center">
    </video>
    <div class="center">
      <input type="image" id="list0" value="0" class="thumbnail" src="https://res.cloudinary.com/hadar/video/upload/w_200/game2.jpg", width=198 onclick="playMe(this)"/
><input type="image" id="list1" value="1" class="thumbnail" src="https://res.cloudinary.com/hadar/video/upload/w_200/hls_30s_test.jpg", width=199 onclick="playMe(this)"/
><input type="image" id="list2" value="2" class="thumbnail" src="https://res.cloudinary.com/hadar/video/upload/w_200/hd_trim2.jpg", width=199 onclick="playMe(this)"/
><input type="image" id="list3" value="3" class="thumbnail" src="https://res.cloudinary.com/hadar/video/upload/w_200/Homepage_2.jpg", width=198 onclick="playMe(this)"/
></div>
  <br><br><br><br><br><br><br><br><br><br><br><br>
  </div>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cloudinary-core/2.3.0/cloudinary-core-shrinkwrap.js"></script>
<script type="text/javascript" src="https://unpkg.com/cloudinary-video-player@edge/dist/cld-video-player.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/videojs-contrib-quality-levels@2.0.3/dist/videojs-contrib-quality-levels.min.js"></script>
<script type="text/javascript">
  var cld = cloudinary.Cloudinary.new({ cloud_name: 'hadar' });
  var recplayer = cld.videoPlayer('demo-recommendation-player',{ autoShowRecommendations: true });
  var source1 = { publicId: 'Homepage_2', info: { title: 'Kid Play', subtitle: 'A preview' } };
  var source2 = { publicId: 'game2', info: { title: 'Game', subtitle: 'A game ad' } };
  var source3 = { publicId: 'hd_trim2', info: { title: 'Race', subtitle: 'Volve Ocean Race' } };
  var source4 = { publicId: 'hls_30s_test', info: { title: 'NBA', subtitle: 'A game' } };
  var source5 = { publicId: 'oceans', info: { title: 'Oceans', subtitle: 'A movie about oceans' } }
  source1.recommendations = [source2, source3, source4, source5];
  source2.recommendations = [source3];
  source3.recommendations = [source4];
  source4.recommendations = [source5];
  source5.recommendations = [source2, source3, source4, source1];
  recplayer.source(source1);
  
  function playMe(btn) {
    var val = parseInt(btn.value);
    plistplayer.playlist().playAtIndex(val);
  }

  function updateOnSrc() {
    var plist = plistplayer.playlist();
    var playing = plist.currentIndex();
    var loop = plist.length();
    for(var i=0; i<loop; i++) {
      var label = "list"+i;
      var btn = document.getElementById(label);
      if(i == playing)
        btn.setAttribute("class", "thumbnail playing");
      else
        btn.setAttribute("class", "thumbnail ");
  }
  console.log("updateOnSrc", playing, loop);
}

var plistplayer = cld.videoPlayer('demo-playlist-player');
plistplayer.on('sourcechanged', updateOnSrc);
plistplayer.playlist(
  [{ publicId: 'game2', sourceTypes: ['dash'], transformation: {streaming_profile: 'hd' }},
   { publicId: 'hls_30s_test', sourceTypes: ['dash'], transformation: {streaming_profile: 'hd' }},
   { publicId: 'hd_trim2', sourceTypes: ['dash'], transformation: {streaming_profile: 'hd' }},
   { publicId: 'Homepage_2', sourceTypes: ['dash'], transformation: {streaming_profile: 'hd' }}], 
   { autoAdvance: 0, repeat: true });
  
 plistplayer.source('game2',{ sourceTypes: ['dash'], 
                              transformation: {streaming_profile: 'hd' } });
  
  
  </script>

</body>  

</html>
